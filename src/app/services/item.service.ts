import { HttpClient } from '@angular/common/http';
import { Injectable } from '@angular/core';
import { Item } from '../models/item.model';

@Injectable({
  providedIn: 'root'
})
export class ItemService {
  items: Item[] = [];
  //items = [{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/Yc8AAOSwJstgQBmR/s-l225.jpg","title":"Apple iPhone 8 64GB Factory Unlocked Verizon AT&T T-Mobile Sprint","price":189,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/g1YAAOSwUQZgDHrZ/s-l225.jpg","title":"Earphones With Mic Bluetooth Headphones Pop-Up Apple iPhone 7 8 Plus X","price":8.33,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/~hAAAOSwX-Bf84f1/s-l225.jpg","title":"Apple AirPods 2nd Generation with Wireless Charging Case White Free Post UK","price":111.27,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/3QcAAOSw04ZcaxXH/s-l225.jpg","title":"Apple iPhone 8 - 64GB/256GB - Gold/Grey/ Silver - UNLOCKED - Various Grades","price":306.01,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/LLkAAOSwpUlgEbZo/s-l225.jpg","title":"Apple iPhone 8 64GB Factory Unlocked Smartphone","price":164.99,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/VfMAAOSwDoNd2W90/s-l225.jpg","title":"Apple iPhone X | 64GB 256GB | Unlocked Verizon AT&T T-Mobile Sprint | CDMA/GSM","price":409.98,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/l7QAAOSwHOVdeAJ8/s-l225.jpg","title":"Apple iPhone 11-128GB All Colors- GSM & CDMA Unlocked - Sealed- Factory Warranty","price":634,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/sZEAAOSw6iZfkZaT/s-l225.jpg","title":"Apple iPhone 12 Pro Max - 256gb - Unlocked - Factory Sealed - Factory Warranty","price":1299.99,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/oCIAAOSwpdhgirog/s-l225.jpg","title":"Apple iPhone X Smartphone 64GB 256GB AT&T Sprint T-Mobile Verizon or Unlocked","price":349,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/T-MAAOSw1QlgirnG/s-l225.jpg","title":"Apple iPhone 8 Plus Smartphone AT&T Sprint T-Mobile Verizon or Unlocked 4G LTE","price":309,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/sZEAAOSw6iZfkZaT/s-l225.jpg","title":"Apple iPhone 12 Pro Max - 128gb - Unlocked - Factory Sealed - Factory Warranty","price":1199.99,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/4NMAAOSwvNFfTUJl/s-l225.jpg","title":"Apple iPhone 7 Smartphone 32/128/256GB AT&T Sprint T-Mobile Verizon or Unlocked","price":159,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/uBsAAOSwtjBeL3U-/s-l225.jpg","title":"Apple iPhone SE Smartphone 16GB 32GB 64GB 128GB Verizon Unlocked T-Mobile AT&T","price":74,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/dp0AAOSwovFd19dH/s-l225.jpg","title":"Apple airpods Pro Headset Bluetooth Wireless Charging Original","price":251.98,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/F-gAAOSwfhlb22RE/s-l225.jpg","title":"Apple iPad 2nd 3rd 4th Generation 16GB 32GB 64GB 128GB PICK: GB/Color/Condition","price":189.99,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/BnIAAOSw3iFeHLkU/s-l225.jpg","title":"Apple iPhone 8 Plus 64GB 256GB - Factory Unlocked AT&T Verizon T-Mobile","price":269.99,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/2ZUAAOSw4pJd2XZh/s-l225.jpg","title":"Apple iPhone XR Smartphone | 64GB 128GB 256GB | Unlocked Verizon AT&T T-Mobile","price":449.98,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/x3AAAOSwp2Vd1zPq/s-l225.jpg","title":"Apple Watch Series 4 40mm 44mm GPS + Cellular 4G LTE - Gold Space Gray Silver","price":199.99,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/cEAAAOSw-JBgUii9/s-l225.jpg","title":"2016 Apple Macbook Pro 13\"  Intel Core i5 2.0ghz  - Choose Specs & Condition","price":629.95,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/sdsAAOSwn1BgjB~u/s-l225.jpg","title":"Apple iPhone 11 Pro (2019) 64/256/512GB Unlocked Grey/Gold/Silver/Midnight Green","price":751.13,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/czsAAOSwD7Nfz-xx/s-l225.jpg","title":"2018 Apple 15\" MacBook Pro 2.6GHz i7/16GB RAM/512GB Flash/560X 4GB/Silver","price":1249,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/XDsAAOSwwTFb~BbZ/s-l225.jpg","title":"Graphics for MacOS Mojave/Catalina/Metal-Ready-Apple Mac Pro 3.1-5.1","price":960.28,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/n2EAAOSwq7RgZesb/s-l225.jpg","title":"Apple iPhone 8 64GB GSM Factory Unlocked Smartphone","price":164.99,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/mR4AAOSwiXpgUzLC/s-l225.jpg","title":"Apple iPhone 8 - 64gb-Good","price":204.09,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/wLsAAOSwd9Vepv-A/s-l225.jpg","title":"iPad Pro 3rd Gen (11 in.) - All Storage Sizes and Colors","price":729,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/42YAAOSwdDZghtHg/s-l225.jpg","title":"Apple Magic Keyboard âš—ï¸ for iPad Pro 11\" 2018 / 2020 MXQT2LL/A ðŸ“¦ Open Box","price":169.99,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/fx0AAOSwBkJgj~rK/s-l225.jpg","title":"New ListingIpad mini","price":30.05,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/Fg8AAOSwMNpgiroj/s-l225.jpg","title":"Apple iPhone XR 64GB 128GB 256GB Unlocked Black/Red/Yellow/Blue/Coral/White","price":389.47,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/rtMAAOSwOntfLiW3/s-l225.jpg","title":"Apple AirPods Pro Left Airpod . ONLY LEFT SIDE AIRPOD PRO","price":65.69,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/6D4AAOSwqptgiiBN/s-l225.jpg","title":"For Apple AirTag Leather Cover AirTags Location Tracker Sleeve Shell Skin Case","price":5.55,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/l7gAAOSw9Eld9AB-/s-l225.jpg","title":"Apple MacBook Air 13\" A1466  2013 2014 2015 2017 Trackpad Touchpad w/ Flex Cable","price":33.75,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/NrIAAOSw-I9gjLHj/s-l225.jpg","title":"Bluetooth Earbuds for iphone Samsung Android Wireless Earphone IPX7 Waterproof  ","price":15.49,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/1NkAAOSwqXhgWmo9/s-l225.jpg","title":"Apple iMac 27\" A1312 Logic board 820-2733-A Intel core i5 @ 2.66G cpu Late 2009","price":100.15,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/mxgAAOSwzvRgbtAQ/s-l225.jpg","title":"Invisio X50 use 3.5 mm 4 pole Audio Cable , CITA Wiring .  Samsung  / Apple","price":100,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/7RoAAOSw7QdejJd2/s-l225.jpg","title":"Display LCD iPhone 8 Black, Original, 100% Apple, Refurbished","price":48.01,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/I4MAAOSwRh9gg2VF/s-l225.jpg","title":"MacAddict magazines,1998-2002, $3 per issue, computer IT Apple, volume discounts","price":3,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/hr4AAOSwh~peLtWu/s-l225.jpg","title":"New ListingNEW YORK CITY Coat of Arms 1912 original card NYC The Big Apple  GOTHAM CITY ","price":6.5,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/AOYAAOSw0iRf27TQ/s-l225.jpg","title":"Cover for Apple iPhone 11 xr 7 x 8 6 6s plus original genuine silicone cases","price":5.65,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/cFQAAOSwN-FdU--R/s-l225.jpg","title":"Apple iPhone SE 16GB 32GB 64GB 128GB Space Grey Gold Rosegold Silver Smartphone","price":255.65,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/2aYAAOSw21Fe3pb6/s-l225.jpg","title":"Apple iPhone 11 64GB Factory Unlocked Smartphone 4G LTE ","price":489.99,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/IygAAOSwr0RgfY1a/s-l225.jpg","title":"Apple iMac 21,5\" Core i3 540 @ 3,06GHz 4GB 500GB DVD Â± RW (Mid 2010)","price":262.91,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/VNQAAOSw2d9fuOtb/s-l225.jpg","title":"Apple iPhone 12 Mini 5g 128gb New Original Smartphone iOS 14 Black Black","price":840.23,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/2S4AAOSwGIJc~UDn/s-l225.jpg","title":"OEM Apple iPhone 8 Black 8/10 LCD Digitizer Display Screen Original SE 2020","price":37.99,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/wJwAAOSw~MZdsFIN/s-l225.jpg","title":"Apple iPhone 11 128gb Italy Black Black LTE NEW Original IOS Smart Phone","price":780.2,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/dbEAAOSwU~FbrAYo/s-l225.jpg","title":"Apple Ipod Nano 6th Generation  8gb 16gb Assorted Colors (30 Day Warranty)","price":179,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/kWQAAOSw0Z1fqXSx/s-l225.jpg","title":"Apple iPhone 12 5g 128gb New Original Smartphone iOS 14 Green","price":972.28,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/IR0AAOSwmCxfqxIx/s-l225.jpg","title":"Apple Siri Remote for Apple TV 4K and 4th Generation Apple TV - MQGD2LL/A - VG","price":42.49,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/8JMAAOSwPJFdkj3u/s-l225.jpg","title":"Apple A1278 A1286 A1297 BCM 94331 PCIEBT 4CAX WiFi Bluetooth Card 607-8958","price":24.01,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/29IAAOSwo3Fb2GzB/s-l225.jpg","title":"Apple iPhone XR 64gb Italia Red Red LTE New ORIGINAL iOS Smart Phone","price":576.12,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/tlMAAOSw7dRektWz/s-l225.jpg","title":"Apple iMac 27 inch A1312 2011 Socket LGA1155 Logic Board Motherboard 820-2828-A","price":90.4,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/wxgAAOSwn91b2G2G/s-l225.jpg","title":"Apple iPhone XR 128gb Italy Black Black LTE NEW Original IOS Smart Phone","price":630.14,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/veMAAOSwNDVfxtKf/s-l225.jpg","title":"Keyboard Keys for Apple MacBook 12\" A1534 2016 2017 US Backlit [REF: A081]","price":5.55,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/tF8AAOSw3opgkCRW/s-l225.jpg","title":"Apple iPhone 12 5g 128gb New Original Smartphone iOS 14 Purple Purple","price":1008.3,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/Y0UAAOSw4Y9gkq3I/s-l225.jpg","title":"Apple Magic Keyboard 2. Gen Keyboard Button Keypad Replacement Button Keys Key A1644","price":4.79,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/gFgAAOSwbXdev~Gz/s-l225.jpg","title":"NEW Apple iPhone if 2020 64gb 4,7\" Black Italy LTE IOS mx9r2ql/a Smartphone","price":504.09,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/x~UAAOSwUstgJmNJ/s-l225.jpg","title":"Original for macbook air a1466 trackpad touchpad 13\" 2014/15/17","price":48.01,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/V5AAAOSw~TNcOMCD/s-l225.jpg","title":"Apple iPhone XR 128gb Italy Coral Coral LTE New ORIGINAL iOS Smart Phone","price":624.14,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/v4oAAOSwKk5ept8l/s-l225.jpg","title":"NEW Apple iPhone if 2020 64gb 4,7\" Red Italy LTE IOS mx9u2ql/a Smartphone","price":504.09,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/CcwAAOSwzf9gjCam/s-l225.jpg","title":"Apple iPhone 8 64GB 128GB 256GB Silver/Space Grey/Gold Unlocked/SIM FREE","price":278.19,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/Wo4AAOSw1JhgHF3k/s-l225.jpg","title":"Apple iPhone XS A1920 64GB Gold Verizon T-Mobile AT&T Fully Unlocked Smartphone","price":324.99,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/AOQAAOSwbGBgj-1r/s-l225.jpg","title":"Apple iPhone X 64 GB-Smartphone-NEW incl. VAT","price":600.24,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/7gsAAOSwS9Nfd2nl/s-l225.jpg","title":"Apple iPhone 7 Plus Smartphone 32/128GB AT&T Sprint T-Mobile Verizon or Unlocked","price":289,"category":"apple"},{"imgSrc":"https://i.ebayimg.com/thumbs/images/g/bRsAAOSwfuBgft7o/s-l225.jpg","title":"Apple MacBook Air 13\" 256GB SSD 2.8ghz i5 TURBO BOOST OSx-2019 | 3 YEAR WARRANTY","price":469,"category":"apple"}];

  constructor(private http: HttpClient) { 
   }

   url = "https://omis-webshop-default-rtdb.europe-west1.firebasedatabase.app/items.json";

  saveItemsToDatabase() {
    //this.items = this.items .map(item => ({ ...item, id: Math.floor
    //(Math.random() * (99999999 - 10000000) + 1000000) }))
    // Math.random -- 0.0000000000001
    // Math.random -- 0.999999999999
    // 
    //Id lisamine tootele 1.kord
    return this.http.put(this.url, this.items);
  }

  getItemsFromDatabase() { 
    return this.http.get<Item[]>(this.url);
  }

  addItemToDatabase(item: Item) {
    return this.http.post(this.url, item);
  }

  //PUT - LISAB ANDMEBAASI SELLE MIS TA SULGUDE VAHEL SAAB 
  //KUSTUTADES Ã„RA KÃ•IK EELNEVA

  //post - lisab andmebaasi selle mis ta sulgude vahel saab 
  //lisades juuurde eelnevale mis andmebaasis oli

}
